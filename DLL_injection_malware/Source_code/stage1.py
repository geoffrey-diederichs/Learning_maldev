with open('shellcode.txt', 'r', encoding='utf-8') as file:
    data = file.readlines()

data = data[1:]
shellcode = ''.join(data)
shellcode = shellcode.replace('\n', '').replace('"', '').replace(';', '')

with open('xor.c', 'r', encoding='utf-8') as file :
    data = file.readlines()

data[2] = data[2].replace("<CODE_TO_REPLACE>", "\""+shellcode+"\"")

with open('xor.c', 'w', encoding='utf-8') as file :
    file.writelines(data)
